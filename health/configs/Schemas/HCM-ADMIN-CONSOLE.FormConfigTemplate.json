{
  "id": "uuid-to-be-generated",
  "tenantId": "mz",
  "code": "HCM-ADMIN-CONSOLE.FormConfigTemplate",
  "description": "HCM-ADMIN-CONSOLE.FormConfigTemplate",
  "definition": {
    "type": "object",
    "title": "HCM-ADMIN-CONSOLE.FormConfigTemplate",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "required": ["name", "flows", "order", "project", "version"],
    "x-unique": ["name", "project"],
    "properties": {
      "name": {
        "type": "string",
        "description": "Module name identifier (e.g., REGISTRATION, INVENTORY)"
      },
      "flows": {
        "type": "array",
        "description": "Array of flow configurations",
        "items": {
          "$ref": "#/definitions/flow"
        }
      },
      "order": {
        "type": "integer",
        "description": "Display order of the module"
      },
      "active": {
        "type": "boolean",
        "description": "Whether the module is active"
      },
      "project": {
        "type": "string",
        "description": "Project identifier"
      },
      "version": {
        "type": "integer",
        "description": "Configuration version"
      },
      "disabled": {
        "type": "boolean",
        "description": "Whether the module is disabled"
      },
      "isSelected": {
        "type": "boolean",
        "description": "Whether the module is selected"
      },
      "initialPage": {
        "type": "string",
        "description": "Initial page/flow to navigate to"
      }
    },
    "definitions": {
      "flow": {
        "type": "object",
        "description": "Flow configuration (TEMPLATE or FORM screen)",
        "properties": {
          "name": {
            "type": "string",
            "description": "Flow name identifier"
          },
          "order": {
            "type": "integer",
            "description": "Display order of the flow"
          },
          "body": {
            "type": "array",
            "description": "Body elements for TEMPLATE screens",
            "items": {
              "$ref": "#/definitions/templateElement"
            }
          },
          "pages": {
            "type": "array",
            "description": "Pages for FORM screens",
            "items": {
              "$ref": "#/definitions/page"
            }
          },
          "header": {
            "type": "array",
            "description": "Header elements",
            "items": {
              "$ref": "#/definitions/headerFooterElement"
            }
          },
          "footer": {
            "type": "array",
            "description": "Footer elements",
            "items": {
              "$ref": "#/definitions/headerFooterElement"
            }
          },
          "heading": {
            "type": "string",
            "description": "Screen heading localization key"
          },
          "description": {
            "type": "string",
            "description": "Screen description localization key"
          },
          "screenType": {
            "type": "string",
            "enum": ["TEMPLATE", "FORM"],
            "description": "Type of screen"
          },
          "navigateTo": {
            "type": ["object", "null"],
            "description": "Navigation configuration",
            "properties": {
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/keyValuePair"
                }
              }
            }
          },
          "initActions": {
            "type": "array",
            "description": "Actions executed on screen initialization",
            "items": {
              "$ref": "#/definitions/action"
            }
          },
          "onAction": {
            "type": "array",
            "description": "Actions executed on form submission or events",
            "items": {
              "$ref": "#/definitions/conditionalAction"
            }
          },
          "wrapperConfig": {
            "$ref": "#/definitions/wrapperConfig"
          },
          "version": {
            "type": "integer"
          },
          "disabled": {
            "type": "boolean"
          },
          "isSelected": {
            "type": "boolean"
          },
          "summary": {
            "type": "boolean"
          }
        }
      },
      "page": {
        "type": "object",
        "description": "Form page configuration",
        "properties": {
          "page": {
            "type": "string",
            "description": "Page identifier"
          },
          "type": {
            "type": "string",
            "description": "Page type (e.g., object)"
          },
          "label": {
            "type": "string",
            "description": "Page label localization key"
          },
          "order": {
            "type": "integer",
            "description": "Display order"
          },
          "navigateTo": {
            "type": ["object", "null"],
            "properties": {
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/keyValuePair"
                }
              }
            }
          },
          "properties": {
            "type": "array",
            "description": "Form field configurations",
            "items": {
              "$ref": "#/definitions/formField"
            }
          },
          "actionLabel": {
            "type": "string",
            "description": "Action button label"
          },
          "description": {
            "type": "string",
            "description": "Page description"
          },
          "showAlertPopUp": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string"
              },
              "description": {
                "type": "string"
              },
              "conditions": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "value": {
                      "type": "string"
                    },
                    "expression": {
                      "type": "string"
                    }
                  }
                }
              },
              "primaryActionLabel": {
                "type": "string"
              },
              "secondaryActionLabel": {
                "type": "string"
              }
            }
          },
          "multiEntityConfig": {
            "type": "object",
            "properties": {
              "sourcePageKey": {
                "type": "string"
              },
              "sourceFieldKey": {
                "type": "string"
              }
            }
          }
        }
      },
      "formField": {
        "type": "object",
        "description": "Form field configuration",
        "properties": {
          "type": {
            "type": "string",
            "description": "Field data type (string, integer, boolean, dynamic)"
          },
          "label": {
            "type": "string",
            "description": "Field label localization key"
          },
          "order": {
            "type": "integer",
            "description": "Display order"
          },
          "value": {
            "type": "string",
            "description": "Default value"
          },
          "format": {
            "type": "string",
            "description": "Field format (text, date, dropdown, radio, checkbox, scanner, locality, latLng, dob, numeric, mobileNumber, idPopulator, custom, textArea)"
          },
          "hidden": {
            "type": "boolean"
          },
          "isMdms": {
            "type": "boolean"
          },
          "tooltip": {
            "type": "string"
          },
          "helpText": {
            "type": "string"
          },
          "infoText": {
            "type": "string"
          },
          "readOnly": {
            "type": "boolean"
          },
          "required": {
            "type": "boolean"
          },
          "fieldName": {
            "type": "string",
            "description": "Unique field identifier"
          },
          "mandatory": {
            "type": "boolean"
          },
          "showLabel": {
            "type": "boolean"
          },
          "deleteFlag": {
            "type": "boolean"
          },
          "innerLabel": {
            "type": "string"
          },
          "schemaCode": {
            "type": "string",
            "description": "MDMS schema code for dynamic options"
          },
          "systemDate": {
            "type": "boolean"
          },
          "validations": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/validation"
            }
          },
          "errorMessage": {
            "type": "string"
          },
          "includeInForm": {
            "type": "boolean"
          },
          "isMultiSelect": {
            "type": "boolean"
          },
          "includeInSummary": {
            "type": "boolean"
          },
          "enums": {
            "type": ["array", "null"],
            "items": {
              "type": "object",
              "properties": {
                "code": {
                  "type": "string"
                },
                "name": {
                  "type": "string"
                }
              }
            }
          },
          "dropDownOptions": {
            "type": "array"
          },
          "visibilityCondition": {
            "type": "object",
            "properties": {
              "expression": {
                "type": ["string", "array"]
              }
            }
          },
          "autoFillCondition": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "value": {
                  "type": "string"
                },
                "expression": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "templateElement": {
        "type": "object",
        "description": "Template body element",
        "properties": {
          "type": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "format": {
            "type": "string",
            "description": "Element format (card, listView, button, tag, panelCard, menu_card, row, column, textTemplate, labelPairList, table, proximitySearch, searchBar, qrScanner)"
          },
          "fieldName": {
            "type": "string"
          },
          "mandatory": {
            "type": "boolean"
          },
          "hidden": {
            "type": "boolean"
          },
          "visible": {
            "type": "string",
            "description": "Visibility expression"
          },
          "disabled": {
            "type": "string",
            "description": "Disabled expression"
          },
          "value": {
            "type": "string",
            "description": "Template value with interpolation"
          },
          "heading": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "icon": {
            "type": "string"
          },
          "showLabel": {
            "type": "boolean"
          },
          "dataSource": {
            "type": "string",
            "description": "Data source model name"
          },
          "data": {
            "type": ["string", "array", "object"],
            "description": "Data configuration for the element"
          },
          "properties": {
            "type": "object",
            "description": "UI properties",
            "properties": {
              "type": {
                "type": "string"
              },
              "size": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "tagType": {
                "type": "string"
              },
              "cardType": {
                "type": "string"
              },
              "spacing": {
                "type": "string"
              },
              "mainAxisSize": {
                "type": "string"
              },
              "mainAxisAlignment": {
                "type": "string"
              }
            }
          },
          "onAction": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/action"
            }
          },
          "validations": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/validation"
            }
          },
          "child": {
            "$ref": "#/definitions/templateElement"
          },
          "children": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/templateElement"
            }
          },
          "primaryAction": {
            "$ref": "#/definitions/templateElement"
          },
          "secondaryAction": {
            "$ref": "#/definitions/templateElement"
          }
        }
      },
      "headerFooterElement": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "label": {
            "type": "string"
          },
          "format": {
            "type": "string",
            "description": "Format type (backLink, button, qrScanner)"
          },
          "fieldName": {
            "type": "string"
          },
          "mandatory": {
            "type": "boolean"
          },
          "showLabel": {
            "type": "boolean"
          },
          "visible": {
            "type": "string"
          },
          "disabled": {
            "type": "string"
          },
          "onAction": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/action"
            }
          },
          "validations": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/validation"
            }
          },
          "properties": {
            "type": "object",
            "properties": {
              "size": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "icon": {
                "type": "string"
              },
              "mainAxisSize": {
                "type": "string"
              },
              "mainAxisAlignment": {
                "type": "string"
              }
            }
          }
        }
      },
      "action": {
        "type": "object",
        "description": "Action configuration",
        "properties": {
          "actionType": {
            "type": "string",
            "description": "Action type (NAVIGATION, BACK_NAVIGATION, SEARCH_EVENT, CREATE_EVENT, UPDATE_EVENT, FETCH_TRANSFORMER_CONFIG, SHOW_TOAST, EVENT, CLEAR_STATE, CLEAR_EVENT)"
          },
          "properties": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "type": {
                "type": "string"
              },
              "entity": {
                "type": "string"
              },
              "message": {
                "type": "string"
              },
              "configName": {
                "type": "string"
              },
              "data": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/keyValuePair"
                }
              },
              "onError": {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/action"
                }
              }
            }
          }
        }
      },
      "conditionalAction": {
        "type": "object",
        "description": "Action with optional condition",
        "properties": {
          "actionType": {
            "type": "string"
          },
          "properties": {
            "type": "object"
          },
          "condition": {
            "type": "object",
            "properties": {
              "expression": {
                "type": "string"
              }
            }
          },
          "actions": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/action"
            }
          }
        }
      },
      "validation": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Validation type (required, min, max, minLength, maxLength, pattern, isGS1, scanLimit, notEqualTo)"
          },
          "key": {
            "type": "string"
          },
          "value": {
            "type": ["string", "boolean", "number"]
          },
          "message": {
            "type": "string"
          },
          "errorMessage": {
            "type": "string"
          }
        }
      },
      "keyValuePair": {
        "type": "object",
        "properties": {
          "key": {
            "type": "string"
          },
          "value": {
            "type": ["string", "number", "boolean"]
          },
          "operation": {
            "type": "string"
          }
        }
      },
      "wrapperConfig": {
        "type": "object",
        "description": "Data wrapper configuration for entity relationships",
        "properties": {
          "filters": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "field": {
                  "type": "string"
                },
                "equals": {
                  "type": ["string", "boolean", "number"]
                },
                "equalsFrom": {
                  "type": "string"
                }
              }
            }
          },
          "relations": {
            "type": "array",
            "items": {
              "$ref": "#/definitions/relation"
            }
          },
          "rootEntity": {
            "type": "string",
            "description": "Root entity model name"
          },
          "wrapperName": {
            "type": "string"
          },
          "groupByType": {
            "type": "boolean"
          },
          "groupBy": {
            "type": "string"
          },
          "searchConfig": {
            "type": "object",
            "properties": {
              "select": {
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "primary": {
                "type": "string"
              }
            }
          },
          "fields": {
            "type": "object",
            "description": "Field extraction configuration",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "from": {
                  "type": "string"
                },
                "where": {
                  "type": ["object", "array"]
                },
                "select": {
                  "type": "string"
                },
                "default": {
                  "type": ["string", "number", "boolean", "null"]
                },
                "takeLast": {
                  "type": "boolean"
                },
                "takeFirst": {
                  "type": "boolean"
                }
              }
            }
          },
          "computed": {
            "type": "object",
            "description": "Computed field configurations",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "order": {
                  "type": "integer"
                },
                "from": {
                  "type": "string"
                },
                "where": {
                  "type": ["object", "array"]
                },
                "select": {
                  "type": "string"
                },
                "default": {
                  "type": ["string", "number", "boolean", "null"]
                },
                "fallback": {
                  "type": ["string", "number", "boolean", "null"]
                },
                "condition": {
                  "type": "object"
                },
                "takeFirst": {
                  "type": "boolean"
                },
                "takeLast": {
                  "type": "boolean"
                }
              }
            }
          },
          "computedList": {
            "type": "object",
            "description": "Computed list configurations",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "order": {
                  "type": "integer"
                },
                "from": {
                  "type": "string"
                },
                "map": {
                  "type": "string"
                },
                "where": {
                  "type": ["object", "array"]
                },
                "skip": {
                  "type": "object"
                },
                "fallback": {
                  "type": ["string", "array", "null"]
                },
                "takeLast": {
                  "type": "boolean"
                },
                "takeFirst": {
                  "type": "boolean"
                },
                "takeWhile": {
                  "type": "object"
                },
                "includeCurrentIf": {
                  "type": "object"
                },
                "evaluateCondition": {
                  "type": "object",
                  "properties": {
                    "context": {
                      "type": "array"
                    },
                    "condition": {
                      "type": "string"
                    },
                    "transformations": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "relation": {
        "type": "object",
        "description": "Entity relation configuration",
        "properties": {
          "name": {
            "type": "string"
          },
          "entity": {
            "type": "string"
          },
          "match": {
            "type": "object",
            "properties": {
              "field": {
                "type": "string"
              },
              "equalsFrom": {
                "type": "string"
              },
              "inFrom": {
                "type": "string"
              }
            }
          },
          "filters": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "field": {
                  "type": "string"
                },
                "equals": {
                  "type": ["string", "boolean", "number"]
                }
              }
            }
          },
          "relations": {
            "type": "array",
            "description": "Nested relations",
            "items": {
              "$ref": "#/definitions/relation"
            }
          }
        }
      }
    }
  },
  "isActive": true,
  "auditDetails": {
    "createdBy": null,
    "lastModifiedBy": null,
    "createdTime": null,
    "lastModifiedTime": null
  }
}
